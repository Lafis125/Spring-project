<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ë©”ì¸</title>
<script type="text/javascript">
$(function(){

	// ì´ë¯¸ì§€ì˜ í‘œì‹œ ì‚¬ì´ì¦ˆ ì§€ì • ì²˜ë¦¬
	resize();

	// ë¸Œë¼ìš°ì €ì˜ ì°½ì˜ ì‚¬ì´ì¦ˆê°€ ì¡°ì •ì´ ë˜ë©´ ì´ë¯¸ì§€ ë†’ì´ë„ ë‹¤ì‹œ ê³„ì‚°ë˜ì„œ í‘œì‹œë˜ì–´ì•¼í•œë‹¤.
	$(window).resize(function(){
		// ì´ë¯¸ì§€ì˜ í‘œì‹œ ì‚¬ì´ì¦ˆ ì§€ì • ì²˜ë¦¬
		resize();
	});
	
	// ê²€ìƒ‰(key, word-input.value) & perPageNum ë°ì´í„° ì„¸íŒ… -- select tagì˜ ë°ì´í„° ì„¸íŒ…
	$("#key").val("${(empty pageObject.key)?"t":pageObject.key}");
	$("#perPageNum").val("${pageObject.perPageNum}");
	
	// ì´ë²¤íŠ¸ ì²˜ë¦¬
	$(".dataRow").click(function(){
		// clickí•œ íƒœê·¸ ì•ˆì— data-no="1" ì„¸íŒ…í•´ ë‘”ë‹¤.
		let no = $(this).data("no");
		location = "/product/view.do?no=" + no 
		+ "&${pageObject.pageQuery}";
	});

	$("#perPageNum").change(function(){
		// alert("í˜ì´ì§€ë‹¹ ë°ì´í„°ì˜ ê°œìˆ˜ë¥¼ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.");
		location = "list.do?page=1&perPageNum=" + $("#perPageNum").val()
			+ "&key=${pageObject.key}&word=${pageObject.word}";
	});

	$(".dataRow").mouseover(function(){
		// ì„ íƒë˜ì–´ì§„ ì´ë¯¸ì§€ íƒœê·¸ì˜ ë¶ˆíˆ¬ëª…ë„ ì¡°ì • - ë§ˆìš°ìŠ¤ê°€ ì˜¬ë¼ê°€ë©´ íˆ¬ëª…í•˜ê²Œ
		$(this).find("img").css("opacity", 0.5);
	}).mouseout(function(){
		// ì„ íƒë˜ì–´ì§„ ì´ë¯¸ì§€ íƒœê·¸ì˜ ë¶ˆíˆ¬ëª…ë„ ì¡°ì • - ë§ˆìš°ìŠ¤ê°€ ë¹ ì ¸ë‚˜ê°€ë©´ ë¶ˆíˆ¬ëª…í•˜ê²Œ
		$(this).find("img").css("opacity", 1);
	});
	
});

// ì´ë¯¸ì§€ì˜ ë†’ì´ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜.
function resize(){
	// ì´ë¯¸ì§€ì˜ ë„ˆë¹„ë¥¼ êµ¬í•´ë³´ì.
	// select "a b" --> aì•ˆì— ìˆëŠ” b ê°ì²´ë¥¼ ì„ íƒ. :first - ì²˜ìŒ ê²ƒ --> .first()
	let width = $(".thumbnail .imgDiv:first").width();
	// alert(width);
	$(".thumbnail .imgDiv").height();
}
</script>
<style type="text/css">
.css-mainitem-contain {
	display: flex;
	flex-direction: column;
}

.css-mainitem-row {
	display: flex;
}

.css-mainitem-title {
	margin-left: 15px;
	margin-bottom: 20px;
}

.css-mainitem-linck {
	display: flex;
}

.plus-link {
	padding-top: 20px;
	margin-left: auto;
	margin-right: 20px;
}

.css-h3text {
	margin-top: 0px;
	margin-left: 5px;
}
</style>
</head>
<body>
	<div style="margin-bottom: 30px; text-align: center;">
		<img alt="#" src="/upload/image/newlog.png">
	</div>
	<div class="css-mainitem-contain">
		<div class="css-mainitem-linck">
			<h2># ëª¨ì•„ë´ìš” ğŸ‘€ Weekly best</h2>
			<h4 class="plus-link">
				<a href="/product/list.do?category_no=1&category_name=ì˜ì">> ë”ë³´ê¸°</a>
			</h4>
		</div>
		<div class="css-mainitem-row">
			<c:forEach items="${category01 }" var="vo" varStatus="vs">
				<div class="col-md-3 dataRow" data-no="${vo.item_no }">
					<div class="thumbnail" style="margin-bottom: 0px;">
						<div class="imgDiv" style="width: 100%; height: 100%;">
							<img src="${vo.item_thum }" style="width: 100%">
						</div>
					</div>
					<h3 class="css-h3text">${vo.item_title }</h3>
				</div>
			</c:forEach>
		</div>
	</div>

	<div>
		<div class="css-mainitem-linck">
			<h2># 10ë§Œ ì¡°íšŒ ëŒíŒŒ ğŸ“ˆ ì•„ì§ ëª»ë´¤ë‹¤ë©´?</h2>
			<h4 class="plus-link">
				<a href="/product/list.do?category_no=2&category_name=ì±…ìƒ">> ë”ë³´ê¸°</a>
			</h4>
		</div>
		<div class="css-mainitem-row">
			<c:forEach items="${category02 }" var="vo" varStatus="vs">
				<div class="col-md-3 dataRow" data-no="${vo.item_no }">
					<div class="thumbnail" style="margin-bottom: 0px;">
						<div class="imgDiv" style="width: 100%; height: 100%;">
							<img src="${vo.item_thum }" style="width: 100%">
						</div>
					</div>
					<h3 class="css-h3text">${vo.item_title }</h3>
				</div>
			</c:forEach>
		</div>
	</div>

	<div>
		<div class="css-mainitem-linck">
			<h2># ì´ë²ˆì£¼ ì¸ê¸° ì§‘ë“¤ì´ best 4 ğŸ‘‘</h2>
			<h4 class="plus-link">
				<a href="/product/list.do?category_no=3&category_name=ì¹¨ëŒ€">> ë”ë³´ê¸°</a>
			</h4>
		</div>
		<div class="css-mainitem-row">
			<c:forEach items="${category03 }" var="vo" varStatus="vs">
				<div class="col-md-3 dataRow" data-no="${vo.item_no }">
					<div class="thumbnail" style="margin-bottom: 0px;">
						<div class="imgDiv" style="width: 100%; height: 100%;">
							<img src="${vo.item_thum }" style="width: 100%">
						</div>
					</div>
					<h3 class="css-h3text">${vo.item_title }</h3>
				</div>
			</c:forEach>
		</div>
	</div>

	<div>
		<div class="css-mainitem-linck">
			<h2># ì£¼ë°© ë¶„ìœ„ê¸° ë°”ê¿”ë³´ì„¸ìš” âœ¨</h2>
			<h4 class="plus-link">
				<a href="/product/list.do?category_no=4&category_name=ì†ŒíŒŒ">> ë”ë³´ê¸°</a>
			</h4>
		</div>
		<div class="css-mainitem-row">
			<c:forEach items="${category04 }" var="vo" varStatus="vs">
				<div class="col-md-3 dataRow" data-no="${vo.item_no }">
					<div class="thumbnail" style="margin-bottom: 0px;">
						<div class="imgDiv" style="width: 100%; height: 100%;">
							<img src="${vo.item_thum }" style="width: 100%">
						</div>
					</div>
					<h3 class="css-h3text">${vo.item_title }</h3>
				</div>
			</c:forEach>
		</div>
	</div>
</body>
</html>